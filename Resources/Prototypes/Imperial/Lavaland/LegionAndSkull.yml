# тело без крови
- type: entity
  abstract: true
  parent:
  - BaseSimpleMob
  - MobCombat
  - MobFlammable
  id: SimpleSpaceMobBaseNoBloodstream 
  suffix: AI
  components:
  - type: NpcFactionMember
    factions:
    - SimpleNeutral
  - type: HTN
    rootTask:
      task: IdleCompound
  - type: MeleeWeapon
    angle: 0
    animation: WeaponArcBite
  - type: Body
    prototype: Animal
  - type: Climbing
  - type: NameIdentifier
    group: GenericNumber
  - type: SlowOnDamage
    speedModifierThresholds:
      60: 0.7
      80: 0.5
  - type: MobPrice
    price: 1000 # Living critters are valuable in space.
  - type: Perishable

# Легион
- type: entity
  name: legion
  id: MobLegionBaseLavaland
  parent: [ SimpleSpaceMobBaseNoBloodstream]
  abstract: true
  description: Run!..
  components:
  - type: NpcFactionMember
    factions:
    - SimpleHostile
  - type: HTN
    rootTask:
      task: SimpleRangedHostileCompound
  - type: Sprite
    drawdepth: Mobs
    sprite: Imperial/Lavaland/legion.rsi
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: base
    - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
      state: glow
      shader: unshaded
  - type: ZombieImmune
  - type: NoSlip
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.30
        density: 80
        mask:
          - MobMask
        layer:
        - MobLayer
  - type: DamageStateVisuals
    states:
      Alive:
        Base: base
        BaseUnshaded: glow
      Dead:
        Base: dead
  - type: MobThresholds
    thresholds:
      0: Alive
      150: Dead
  - type: MovementSpeedModifier
    baseWalkSpeed: 1.3
    baseSprintSpeed: 1.8
  - type: BallisticAmmoProvider
    proto: MobSkullLavaland
    capacity: 5
  - type: Gun
    fireRate: 0.35
    selectedMode: SemiAuto
    soundGunshot: /Audio/Imperial/Lavaland/Fauna/attack-legion-skull.ogg
  - type: CombatMode
  - type: Butcherable
    spawned:
    - id: MobRandomCargoCorpse
      amount: 1

- type: entity
  id: MobLegionNoBoss
  parent: MobLegionBaseLavaland
  name: Legion
  components:
  - type: Sprite
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: base
    - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
      state: glow
      shader: unshaded
      color: red



# Череп легиона
- type: entity
  name: skullLavalend
  id: BaseMobSkullLavaland
  parent: [ SimpleMobBase, FlyingMobBase, MobCombat]
  description: Skull? Chak-chak!
  abstract: true
  components:
    - type: Ammo
      muzzleFlash: null
    - type: MobMover
    - type: HTN
      rootTask:
        task: SimpleHostileCompound
      blackboard:
        NavSmash: !type:Bool
          true
    - type: NpcFactionMember
      factions:
        - SimpleHostile
    - type: Sprite
      drawdepth: Mobs
      sprite: Imperial/Lavaland/skullbylegion.rsi
      layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: base
    - type: CombatMode
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 0.25
          density: 80
          mask:
            - FlyingMobMask
          layer:
            - FlyingMobLayer
    - type: MobState
    - type: ZombieImmune
    - type: NoSlip
    - type: MobThresholds
      thresholds:
        0: Alive
        5: Dead
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 5
        behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - type: DamageStateVisuals
      states:
        Alive:
          Base: base
          BaseUnshaded: glow
        Dead:
          Base: base
    - type: MovementSpeedModifier
      baseWalkSpeed: 3
      baseSprintSpeed: 4
    - type: MeleeWeapon
      altDisarm: false
      angle: 0
      animation: WeaponArcBite
      soundHit:
        path: /Audio/Imperial/Lavaland/Fauna/attack-skull.ogg
      damage:
        types:
          Piercing: 8
          Slash: 2
    - type: ReplacementAccent
      accent: genericAggressive
    - type: Speech
      speechVerb: LargeMob

- type: entity
  parent: BaseMobSkullLavaland
  id: MobSkullLavaland
  name: SkullByLegion
  components:
  - type: Sprite
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: base
    - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
      state: glow
      shader: unshaded
      color: red
